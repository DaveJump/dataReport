!function(t,a){var e=function(){return this.id=("h5_"+Math.random()).replace(".","_"),this.el=t('<div id="'+this.id+'" class="h5"></div>').hide(),this.page=[],t("body").append(this.el),e.prototype.addPage=function(a,e,n){var i=t('<div class="h5_page section"></div>');return a&&i.addClass("h5_page_"+a),e&&i.text(e),n&&i.css(n),this.el.append(i),this.page.push(i),this.whenPagesAdded&&"function"==typeof this.whenPagesAdded&&this.whenPagesAdded(),this},e.prototype.addComponent=function(a,e){var d,f=t.extend({type:"base"},e||{}),h=this.page.slice(-1)[0];switch(f.type){case"base":d=new i(a,f);break;case"polyline":d=new r(a,f);break;case"bar":d=new n(a,f);break;case"pie":d=new s(a,f);break;case"ring":d=new l(a,f);break;case"radar":d=new c(a,f);break;case"point":d=new o(a,f);break;default:d=new i(a,f)}return h.append(d),this},e.prototype.loader=function(a){this.el.fullpage({onLeave:function(a,e,n){t(this).find(".h5_component").trigger("onLeave")},afterLoad:function(a,e){t(this).find(".h5_component").trigger("onLoad")}}),this.page[0].find(".h5_component").trigger("onLoad"),this.el.show(),a&&t.fn.fullpage.moveTo(a)},this.loader="function"==typeof H5_loading?H5_loading:this.loader,this},n=function(a,e){var n=new i(a,e);return t.each(e.data,function(a,i){var s=t('<div class="line"></div>'),o=t('<div class="name"></div>'),r=t('<div class="bar"></div>'),c=(t('<div class="per"></div>'),(100*i[1]).toFixed(1)+"%"),l=r.html('<div class="innerBar" style="width: '+c+'"><div class="rate"></div></div><div class="per">'+c+"</div>");s.append(o.text(i[0])).append(l),i[2]&&(s.find(".rate").css("background",i[2]),s.find(".per").css("color",i[2])),n.on("onLoad",function(){s.find(".rate").css({width:"100%",transition:"all 1s "+(e.animateDur||0)/1e3+"s",webkitTransition:"all 1s "+(e.animateDur||0)/1e3+"s"}),n.find(".per").css({opacity:1,transition:"all 0.5s "+((e.animateDur||0)+1e3)/1e3+"s",webkitTransition:"all 0.5s "+((e.animateDur||0)+1e3)/1e3+"s"})}).on("onLeave",function(){s.find(".rate").css("width",0),n.find(".per").css({opacity:0,transition:"all 0.5s 0s",webkitTransition:"all 0.5s 0s"})}),n.append(s)}),n},i=function(a,e){var e=e||{},n=("h5_c_"+Math.random()).replace(".","_"),i="h5_component_"+e.type,s=t('<div id="'+n+'" class="h5_component '+i+" h5_component_name_"+a+'"></div>');return e.text&&s.text(e.text),e.width&&s.width(e.width/2),e.height&&s.height(e.height/2),e.css&&s.css(e.css),e.center&&e.center===!0&&s.css({marginLeft:-e.width/4+"px",left:"50%"}),e.onclick&&"function"==typeof e.onclick&&s.on("click",e.onclick),s.on("onLoad",function(){if(e.relativeTo){var a=t("body").find(".h5_component_name_"+e.relativeTo),n={left:t(a)[0].offsetLeft,top:t(a)[0].offsetTop};e.center===!0&&(n.left=0),s.css("transform","translate("+n.left+"px,"+n.top+"px)"),e.relativeTo=!1}return t(this).removeClass(i+"_leave").addClass(i+"_load"),setTimeout(function(){e.animateIn&&s.animate(e.animateIn,e.animateDur||0)},e.animateDelay||0),!1}).on("onLeave",function(){return t(this).removeClass(i+"_load").addClass(i+"_leave"),e.animateOut&&s.animate(e.animateOut,e.animateDur||0),!1}),s},s=function(a,e){function n(){t.each(L,function(a){var n=parseFloat((e.animateDur||0)/1e3+1+.1*a);t(this).css({transition:"all .5s "+n+"s",webkitTransition:"all .5s "+n+"s",opacity:1})})}var o=new i(a,e),r=e.width,c=e.height,l=r/2,d=function(){var t=document.createElement("canvas"),a=t.getContext("2d");return t.width=a.width=r,t.height=a.height=c,o.append(t),{cns:t,ctx:a}},f=d();t(f.cns).css("z-index",1),f.ctx.beginPath(),f.ctx.fillStyle="#eee",f.ctx.strokeStyle="#eee",f.ctx.lineWidth=1,f.ctx.arc(l,l,l,0,2*Math.PI),f.ctx.fill(),f.ctx.stroke();var f=d();t(f.cns).css("z-index",2);for(var h=["red","green","blue","darkred","orange"],p=1.5*Math.PI,u=0,v=2*Math.PI,m=e.data.length,g=t('<div class="textWrap"></div>'),x=0;x<m;x++){var w=e.data[x],y=w[2]||(w[2]=h.pop());u=p+v*w[1],f.ctx.beginPath(),f.ctx.fillStyle=y,f.ctx.strokeStyle=y,f.ctx.lineWidth=.1,f.ctx.moveTo(l,l),f.ctx.arc(l,l,l,p,u),f.ctx.fill(),f.ctx.stroke(),p=u;var b=t('<div class="text"></div>'),k=t('<span class="text-inner"></span>');k.text(e.data[x][0]);var T=t('<span class="rate"></span>');T.text(Math.round(100*e.data[x][1]*100)/100+"%"),b.css("opacity",0),e.data[x][2]&&b.css("color",e.data[x][2]);var _=t('<span class="rect"></span>');e.data[x][2]&&_.css("background",e.data[x][2]),g.append(b.append(_).append(k).append(T))}g.css("top",c/2+30),o.append(g);var f=d();t(f.cns).css("z-index",3).addClass("animateLayer"),f.ctx.fillStyle="#eee",f.ctx.strokeStyle="#eee";var P=function(t){f.ctx.clearRect(0,0,r,c),f.ctx.beginPath(),f.ctx.moveTo(l,l),0==t?f.ctx.arc(l,l,l,0,2*Math.PI):f.ctx.arc(l,l,l,p,p+2*Math.PI*t,!0),f.ctx.fill(),f.ctx.stroke(),t>=1&&(o.find(".text").css({transition:"all 0s",webkitTransition:"all 0s"}),s.resort(o.find(".text")),o.find("canvas.animateLayer").css("opacity",0),setTimeout(function(){o.find(".text").css({transition:"all 0.5s",webkitTransition:"all 0.5s"})},50))},L=o.find(".text");return o.on("onLoad",function(){P(0),o.find("canvas.animateLayer").css("opacity",1);for(var t=0,a=0;a<100;a++)setTimeout(function(){t+=.01,P(t)},10*a+(e.animateDur||0));n()}).on("onLeave",function(){t.each(L,function(a){t(this).css({transition:"all .5s 0s",webkitTransition:"all .5s 0s",opacity:0})}),setTimeout(function(){P(0)},e.animateDur||0)}),o};s.resort=function(a){var e=function(a,e){var n=t(a).offset(),i=t(e).offset(),s=[n.left,t(a).width()+n.left],o=[n.top,t(a).height()+n.top],r=[i.left,t(e).width()+i.left],c=[i.top,t(e).height()+i.top],l=s[0]>r[0]&&s[0]<r[1]||s[1]>r[0]&&s[1]<r[1],d=o[0]>c[0]&&o[0]<c[1]||o[1]>c[0]&&o[1]<c[1];return l&&d},n=function(a,e){"auto"!=t(a).css("top")&&t(a).css("top",parseInt(t(a).css("top"))+t(e).height()),"auto"!=t(a).css("bottom")&&t(a).css("bottom",parseInt(t(a).css("bottom"))+t(e).height())},i=[a[0]];t.each(a,function(t,a){e(i[i.length-1],a)&&i.push(a)}),i.length>1&&(t.each(i,function(t,a){i[t+1]&&n(a,i[t+1])}),s.resort(i))};var o=function(a,e){var n=new i(a,e),s=e.data[0][1];return t.each(e.data,function(a,i){var o=t('<div class="point"></div>'),r=t('<div class="name">'+i[0]+"</div>"),c=t('<div class="per">'+100*i[1]+"%</div>");o.append(r.append(c));var c=i[1]/s*100+"%";o.width(c).height(c),i.slice(-1)[0]&&i.slice(-1)[0]!={}&&o.css(i.slice(-1)[0]),void 0!=i[2]&&void 0!=i[3]&&o.css({left:i[2],top:i[3]}),n.on("onLoad",function(){if(n.find(".point").eq(0).addClass("point_focus").siblings(".point").removeClass("point_focus"),i.slice(-2)[0]&&i.slice(-2)[0]!={}){var t=(i.slice(-2)[0].dur||500)/1e3+"s "+(i.slice(-2)[0].delay||0)/1e3;"scaleFade"==i.slice(-2)[0].animate?(o.css({transform:"scale(.5)",webkitTransform:"scale(.5)",transition:"all 0s",webkitTransition:"all 0s",opacity:0}),setTimeout(function(){o.css({transform:"scale(1)",webkitTransform:"scale(1)",opacity:1,transition:"all "+t+"s",webkitTransition:"all "+t+"s"})},e.animateDur+100||100)):"scaleFade"==i.slice(-2)[0].animate&&i.slice(-2)[0].animate||(o.css({opacity:0}),setTimeout(function(){o.css({opacity:1,transition:"all "+t+"s",webkitTransition:"all "+t+"s"})},e.animateDur+100||100))}}).on("onLeave",function(){o.css({opacity:0,transition:"all .5s 0s",webkitTransition:"all .5s 0s"})}),n.on("click",".point",function(){return t(this).addClass("point_focus").siblings(".point").removeClass("point_focus"),!1}),n.append(o)}),n},r=function(a,e){function n(){var a=s.find(".text");t.each(a,function(a){var n=parseFloat((e.animateDur||0)/1e3+1+.1*a);t(this).css({transition:"all .5s "+n+"s",webkitTransition:"all .5s "+n+"s",opacity:1})})}var s=new i(a,e),o=e.width,r=e.height,c=function(){var t=document.createElement("canvas"),a=t.getContext("2d");return t.width=a.width=o,t.height=a.height=r,s.append(t),a},l=c(),d=10;l.beginPath(),l.lineWidth=1,l.strokeStyle="#AAAAAA";for(var f=0;f<d+1;f++){var h=r/d*f;l.moveTo(0,h),l.lineTo(o,h)}d=e.data.length+1;for(var p=o/d>>0,f=0;f<d+1;f++){var u=o/d*f;if(l.moveTo(u,0),l.lineTo(u,r),e.data[f]){var v=t('<div class="text"></div>');v.text(e.data[f][0]),v.css({width:p/2,left:u/2+p/4,color:e.data[f][2],opacity:0}),s.append(v)}}l.stroke();var l=c(),m=function(t){l.clearRect(0,0,o,r),l.beginPath(),l.lineWidth=3,l.strokeStyle="#ff8878";for(var a=0,n=0,i=o/(e.data.length+1),s=0;s<e.data.length;s++){var c=e.data[s];a=i*s+i,n=r-c[1]*r*t,l.moveTo(a,n),l.arc(a,n,3,0,2*Math.PI)}l.moveTo(i,r-e.data[0][1]*r*t);for(var s=0;s<e.data.length;s++){var c=e.data[s];a=i*s+i,n=r-c[1]*r*t,l.lineTo(a,n)}l.stroke();for(var s=0;s<e.data.length;s++){var c=e.data[s];a=i*s+i,n=r-c[1]*r*t,l.fillStyle=c[2]?c[2]:"#595959",l.font="24px Arial",l.fillText((c[1]*t*100).toFixed(1)+"%",a-24,n-20)}l.lineTo(a,r),l.lineTo(i,r),l.fillStyle="rgba(255,136,120,.35)",l.fill()};return s.on("onLoad",function(){m(0);for(var t=0,a=0;a<100;a++)setTimeout(function(){t+=.01,m(t)},10*a+(e.animateDur||0));n()}).on("onLeave",function(){var a=s.find(".text");t.each(a,function(a){t(this).css({transition:"all .5s 0s",webkitTransition:"all .5s 0s",opacity:0})}),setTimeout(function(){m(0)},e.animateDur||0)}),s},c=function(a,e){function n(){t.each(b,function(a){t(this).css({transition:"all .5s "+parseFloat((e.animateDur||0)/1e3+1+.1*a)+"s",webkitTransition:"all .5s "+parseFloat((e.animateDur||0)/1e3+1+.1*a)+"s",opacity:1})})}for(var s=new i(a,e),o=e.width,r=e.height,c=function(){var t=document.createElement("canvas"),a=t.getContext("2d");return t.width=a.width=o,t.height=a.height=r,s.append(t),a},l=c(),d=e.data.length,f=o/2,h=!1,p=10;p>0;p--){h=!h,l.beginPath();for(var u=0;u<d;u++){var v=2*Math.PI/360*(360/d)*u,m=f+Math.sin(v)*f*(p/10),g=f+Math.cos(v)*f*(p/10);l.lineTo(m,g)}l.closePath(),l.fillStyle=h?"#99c0ff":"#f1f9ff",l.fill()}for(var u=0;u<d;u++){var v=2*Math.PI/360*(360/d)*u,m=f+Math.sin(v)*f,g=f+Math.cos(v)*f;l.moveTo(f,f),l.lineTo(m,g);var x=t('<div class="text"></div>'),w=Math.round(1e4*e.data[u][1])/100+"%";x.text(e.data[u][0]+w),x.css("opacity",0),m>o/2?x.css("left",m/2+2):x.css("right",(o-m)/2+2),g>r/2?x.css("top",g/2+2):x.css("bottom",(r-g)/2+2),s.append(x)}l.strokeStyle="#d2d2d2",l.stroke();var l=c(),y=function(t){l.clearRect(0,0,o,r),l.beginPath();for(var a=0;a<d;a++){var n=2*Math.PI/360*(360/d)*a,i=e.data[a][1]*t,s=f+Math.sin(n)*f*i,c=f+Math.cos(n)*f*i;l.lineTo(s,c),l.arc(s,c,2,0,2*Math.PI)}l.closePath(),l.fillStyle="rgba(255,136,120,.5)",l.fill(),l.strokeStyle="#ff8878",l.stroke()},b=s.find(".text");return s.on("onLoad",function(){y(0);for(var t=0,a=0;a<100;a++)setTimeout(function(){t+=.01,y(t)},10*a+(e.animateDur||0));n()}).on("onLeave",function(){t.each(b,function(a){t(this).css({transition:"all .5s 0s",webkitTransition:"all .5s 0s",opacity:0})}),setTimeout(function(){y(0)},e.animateDur||0)}),s},l=function(a,e){e.data.length>1&&(e.data=[e.data[0]]),e.type="pie";var n=new s(a,e);n.addClass("h5_component_ring");var i=t('<div class="mask">');n.append(i),n.find(".rect").remove();var o=n.find(".text"),r=o.find(".rate");return o.attr("style",""),e.data[0][2]&&o.css("color",e.data[0][2]),o.css({opacity:0,margin:0}),r.css({display:"block"}),i.append(o),n};a.DataReport=e}(jQuery,window);